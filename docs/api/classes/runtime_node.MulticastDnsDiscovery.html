<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>MulticastDnsDiscovery | @coaty/core - v2.4.0</title><meta name="description" content="Documentation for @coaty/core - v2.4.0"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@coaty/core - v2.4.0</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../index.html">@coaty/core - v2.4.0</a></li><li><a href="../modules/runtime_node.html">runtime-node</a></li><li><a href="runtime_node.MulticastDnsDiscovery.html">MulticastDnsDiscovery</a></li></ul><h1>Class MulticastDnsDiscovery</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Provides static methods to publish and find multicast DNS services.</p>
</div></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">MulticastDnsDiscovery</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="runtime_node.MulticastDnsDiscovery.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#findMqttBrokerService" class="tsd-kind-icon">find<wbr/>Mqtt<wbr/>Broker<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#findMulticastDnsService" class="tsd-kind-icon">find<wbr/>Multicast<wbr/>Dns<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#findWampRouterService" class="tsd-kind-icon">find<wbr/>Wamp<wbr/>Router<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#getLocalIpV4Address" class="tsd-kind-icon">get<wbr/>Local<wbr/>Ip<wbr/>V4<wbr/>Address</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#publishMqttBrokerService" class="tsd-kind-icon">publish<wbr/>Mqtt<wbr/>Broker<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#publishMulticastDnsService" class="tsd-kind-icon">publish<wbr/>Multicast<wbr/>Dns<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#publishWampRouterService" class="tsd-kind-icon">publish<wbr/>Wamp<wbr/>Router<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#unpublishMulticastDnsServices" class="tsd-kind-icon">unpublish<wbr/>Multicast<wbr/>Dns<wbr/>Services</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class"><a name="constructor" class="tsd-anchor"></a><h3>constructor</h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">new <wbr/>Multicast<wbr/>Dns<wbr/>Discovery<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="runtime_node.MulticastDnsDiscovery.html" class="tsd-signature-type" data-tsd-kind="Class">MulticastDnsDiscovery</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"></aside><h4 class="tsd-returns-title">Returns <a href="runtime_node.MulticastDnsDiscovery.html" class="tsd-signature-type" data-tsd-kind="Class">MulticastDnsDiscovery</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static"><a name="findMqttBrokerService" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagStatic">Static</span> find<wbr/>Mqtt<wbr/>Broker<wbr/>Service</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static"><li class="tsd-signature tsd-kind-icon">find<wbr/>Mqtt<wbr/>Broker<wbr/>Service<span class="tsd-signature-symbol">(</span>timeout<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span>, name<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span>, type<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/56d06e4/src/runtime-node/node.ts#L416">src/runtime-node/node.ts:416</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Finds the first multicast DNS service publishing Coaty MQTT broker information.
Returns a promise that is resolved with the given service object
or rejected if the service cannot be discovered within the given timeout
interval.</p>
</div><div><p>This function can only be used in a server-side environment (Node.js),
not in a browser runtime.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> timeout: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the number of milliseconds after which the returned promise is rejected (defaults to 2147483647)</p>
</div></div></li><li><h5>name: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = &quot;Coaty MQTT Broker&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the mDNS service to find (defaults to <code>Coaty MQTT Broker</code>)</p>
</div></div></li><li><h5>type: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = &quot;coaty-mqtt&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the type of the mDNS service to find (defaults to <code>coaty-mqtt</code>)</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static"><a name="findMulticastDnsService" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagStatic">Static</span> find<wbr/>Multicast<wbr/>Dns<wbr/>Service</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static"><li class="tsd-signature tsd-kind-icon">find<wbr/>Multicast<wbr/>Dns<wbr/>Service<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, timeout<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/56d06e4/src/runtime-node/node.ts#L380">src/runtime-node/node.ts:380</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Finds the first multicast DNS service of the given name and type.
Returns a promise that is resolved with the given service object
or rejected if the service cannot be discovered within the given timeout
interval.</p>
</div><div><p>This function can only be used in a server-side environment (Node.js),
not in a browser runtime.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the mDNS service to find</p>
</div></div></li><li><h5>type: <span class="tsd-signature-type">string</span></h5></li><li><h5>timeout: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 2147483647</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the number of milliseconds after which the returned promise is rejected (optional, default is 2147483647)</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static"><a name="findWampRouterService" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagStatic">Static</span> find<wbr/>Wamp<wbr/>Router<wbr/>Service</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static"><li class="tsd-signature tsd-kind-icon">find<wbr/>Wamp<wbr/>Router<wbr/>Service<span class="tsd-signature-symbol">(</span>timeout<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span>, name<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span>, type<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/56d06e4/src/runtime-node/node.ts#L433">src/runtime-node/node.ts:433</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Finds the first multicast DNS service publishing Coaty WAMP router information.
Returns a promise that is resolved with the given service object
or rejected if the service cannot be discovered within the given timeout
interval.</p>
</div><div><p>This function can only be used in a server-side environment (Node.js),
not in a browser runtime.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> timeout: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the number of milliseconds after which the returned promise is rejected (defaults to 2147483647)</p>
</div></div></li><li><h5>name: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = &quot;Coaty WAMP Router&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the mDNS service to find (defaults to <code>Coaty WAMP Router</code>)</p>
</div></div></li><li><h5>type: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = &quot;coaty-wamp&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the type of the mDNS service to find (defaults to <code>coaty-wamp</code>)</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static"><a name="getLocalIpV4Address" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagStatic">Static</span> get<wbr/>Local<wbr/>Ip<wbr/>V4<wbr/>Address</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static"><li class="tsd-signature tsd-kind-icon">get<wbr/>Local<wbr/>Ip<wbr/>V4<wbr/>Address<span class="tsd-signature-symbol">(</span>networkInterface<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/56d06e4/src/runtime-node/node.ts#L448">src/runtime-node/node.ts:448</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>since 2.3.0. Use <code>NodeUtils.getLocalIpV4Address()</code> instead.</p>
<p>Gets the first IPv4 address of the specified network interface of the
local machine. If no network interface name is specified, the first IPv4
address of the first network interface that provides an IPv4 address is
returned. Returns <code>undefined</code> if no IPv4 address could be looked up.</p>
<p>This function can only be used in a server-side environment (Node.js),
not in a browser runtime.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> networkInterface: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static"><a name="publishMqttBrokerService" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagStatic">Static</span> publish<wbr/>Mqtt<wbr/>Broker<wbr/>Service</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static"><li class="tsd-signature tsd-kind-icon">publish<wbr/>Mqtt<wbr/>Broker<wbr/>Service<span class="tsd-signature-symbol">(</span>port<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span>, wsPort<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span>, name<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span>, type<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span>, host<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/56d06e4/src/runtime-node/node.ts#L294">src/runtime-node/node.ts:294</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Publish Coaty MQTT broker information using a multicast DNS (a.k.a mDNS,
Bonjour) service with the given parameters.</p>
</div><div><p>Note that the <code>host</code> parameter is optional. By default, the local
hostname is used (not the local host IP address!). To resolve this
hostname, your network DNS system must be configured properly. If this is
not the case, you can pass the target IP address of your mDNS service
explicitely.</p>
<p>The function returns a promise that is resolved with the published
service object of type <code>MulticastDnsService</code>. If an error occurs while
publishing, the promise is rejected.</p>
<p>The broker&#39;s websocket port (<code>ws-port</code>) is published in the TXT record of
the service.</p>
<p>This function can only be used in a server-side environment (Node.js),
not in a browser runtime.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>If published with default arguments, the FQDN (fully qualified
domain name) of the Coaty MQTT broker mDNS service is &quot;Coaty MQTT
Broker._coaty-mqtt._tcp.local&quot;. Since the used mDNS library does not
handle &quot;_services._dns-sd._udp.&quot; meta-queries for browsing, Coaty MQTT
Broker information can only be discovered if you provide the mDNS service
name explicitely.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> port: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the broker&#39;s port (default value is 1883)</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> wsPort: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the broker&#39;s websocket port (default value is 9883)</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the mDNS service (default value is <code>Coaty MQTT Broker</code>)</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> type: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the type of the mDNS service (default value is <code>coaty-mqtt</code>)</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> host: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the broker IP address to be published with the service
(default is local hostname)</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static"><a name="publishMulticastDnsService" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagStatic">Static</span> publish<wbr/>Multicast<wbr/>Dns<wbr/>Service</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static"><li class="tsd-signature tsd-kind-icon">publish<wbr/>Multicast<wbr/>Dns<wbr/>Service<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, port<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, txtRecord<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{}</span>, host<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/56d06e4/src/runtime-node/node.ts#L239">src/runtime-node/node.ts:239</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Publish a multicast DNS (a.k.a mDNS, Bonjour, Zeroconf) service with the
given parameters. Typically used for discovering the Coaty broker/router
or for discovering Coaty configuration URLs hosted on a web server. The
published mDNS service contains a JSON TXT record including specific
connection parameters. The keys and values of these parameters are always
strings so you can easily concat them to form a URL, etc.</p>
</div><div><p>Note that the <code>host</code> parameter is optional. By default, the local
hostname is used (not the local host IP address!). To resolve this
hostname, your network DNS system must be configured properly. If this is
not the case, you can pass the target IP address of your mDNS service
explicitely.</p>
<p>The function returns a promise that is resolved with the published
service object of type <code>MulticastDnsService</code>. If an error occurs while
publishing, the promise is rejected.</p>
<p>This function can only be used in a server-side environment (Node.js),
not in a browser runtime.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the mDNS service</p>
</div></div></li><li><h5>type: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the type of the mDNS service</p>
</div></div></li><li><h5>port: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the port of the mDNS service</p>
</div></div></li><li><h5>txtRecord: <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol"> = {}</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the TXT record containing additional key value pairs
(optional)</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span>key: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">string</span></h5></li></ul></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> host: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the host IP address to be published with the service
(optional, defaults to local hostname)</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static"><a name="publishWampRouterService" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagStatic">Static</span> publish<wbr/>Wamp<wbr/>Router<wbr/>Service</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static"><li class="tsd-signature tsd-kind-icon">publish<wbr/>Wamp<wbr/>Router<wbr/>Service<span class="tsd-signature-symbol">(</span>path<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span>, realm<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span>, port<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span>, name<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span>, type<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span>, host<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/56d06e4/src/runtime-node/node.ts#L340">src/runtime-node/node.ts:340</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Publish Coaty WAMP router information using a multicast DNS (a.k.a mDNS,
Bonjour) service with the given parameters.</p>
</div><div><p>Note that the <code>host</code> parameter is optional. By default, the local
hostname is used (not the local host IP address!). To resolve this
hostname, your network DNS system must be configured properly. If this is
not the case, you can pass the target IP address of your mDNS service
explicitely.</p>
<p>The function returns a promise that is resolved with the published
service object of type <code>MulticastDnsService</code>. If an error occurs while
publishing, the promise is rejected.</p>
<p>The WAMP router&#39;s URL path (<code>path</code>) and realm (<code>realm</code>) is published in
the TXT record of the service.</p>
<p>This function can only be used in a server-side environment (Node.js),
not in a browser runtime.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>If published with default arguments, the FQDN (fully qualified
domain name) of the WAMP router mDNS service is &quot;Coaty WAMP
Broker._coaty-wamp._tcp.local&quot;. Since the used mDNS library does not
handle &quot;_services._dns-sd._udp.&quot; meta-queries for browsing, Coaty WAMP
Router information can only be discovered if you provide the mDNS service
name explicitely.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> path: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the router&#39;s URL path (default value is <code>/</code>)</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> realm: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the router&#39;s realm (default value is <code>coaty</code>)</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> port: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the router&#39;s port (default value is 80)</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the mDNS service (default value is <code>Coaty WAMP Router</code>)</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> type: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the type of the mDNS service (default value is <code>coaty-wamp</code>)</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> host: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the router IP address to be published with the service
(default is local hostname)</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/runtime_node.MulticastDnsService.html" class="tsd-signature-type" data-tsd-kind="Interface">MulticastDnsService</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static"><a name="unpublishMulticastDnsServices" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagStatic">Static</span> unpublish<wbr/>Multicast<wbr/>Dns<wbr/>Services</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static"><li class="tsd-signature tsd-kind-icon">unpublish<wbr/>Multicast<wbr/>Dns<wbr/>Services<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/56d06e4/src/runtime-node/node.ts#L357">src/runtime-node/node.ts:357</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Unpublish all published multicast DNS services. Returns a promise that is resolved after all
services have been unpublished.</p>
</div><div><p>This function can only be used in a server-side environment (Node.js),
not in a browser runtime.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../index.html">Modules</a></li><li class=" tsd-kind-module"><a href="../modules/core.html">core</a></li><li class=" tsd-kind-module"><a href="../modules/db.html">db</a></li><li class=" tsd-kind-module"><a href="../modules/db_adapter_in_memory.html">db/adapter-<wbr/>in-<wbr/>memory</a></li><li class=" tsd-kind-module"><a href="../modules/db_adapter_postgres.html">db/adapter-<wbr/>postgres</a></li><li class=" tsd-kind-module"><a href="../modules/db_adapter_sqlite_base.html">db/adapter-<wbr/>sqlite-<wbr/>base</a></li><li class=" tsd-kind-module"><a href="../modules/db_adapter_sqlite_cordova.html">db/adapter-<wbr/>sqlite-<wbr/>cordova</a></li><li class=" tsd-kind-module"><a href="../modules/db_adapter_sqlite_node.html">db/adapter-<wbr/>sqlite-<wbr/>node</a></li><li class=" tsd-kind-module"><a href="../modules/io_routing.html">io-<wbr/>routing</a></li><li class=" tsd-kind-module"><a href="../modules/runtime_angular.html">runtime-<wbr/>angular</a></li><li class="current tsd-kind-module"><a href="../modules/runtime_node.html">runtime-<wbr/>node</a></li><li class=" tsd-kind-module"><a href="../modules/sensor_things.html">sensor-<wbr/>things</a></li><li class=" tsd-kind-module"><a href="../modules/sensor_things_io.html">sensor-<wbr/>things/io</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-parent-kind-module"><a href="runtime_node.MulticastDnsDiscovery.html" class="tsd-kind-icon">Multicast<wbr/>Dns<wbr/>Discovery</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="runtime_node.MulticastDnsDiscovery.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#findMqttBrokerService" class="tsd-kind-icon">find<wbr/>Mqtt<wbr/>Broker<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#findMulticastDnsService" class="tsd-kind-icon">find<wbr/>Multicast<wbr/>Dns<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#findWampRouterService" class="tsd-kind-icon">find<wbr/>Wamp<wbr/>Router<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#getLocalIpV4Address" class="tsd-kind-icon">get<wbr/>Local<wbr/>Ip<wbr/>V4<wbr/>Address</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#publishMqttBrokerService" class="tsd-kind-icon">publish<wbr/>Mqtt<wbr/>Broker<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#publishMulticastDnsService" class="tsd-kind-icon">publish<wbr/>Multicast<wbr/>Dns<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#publishWampRouterService" class="tsd-kind-icon">publish<wbr/>Wamp<wbr/>Router<wbr/>Service</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="runtime_node.MulticastDnsDiscovery.html#unpublishMulticastDnsServices" class="tsd-kind-icon">unpublish<wbr/>Multicast<wbr/>Dns<wbr/>Services</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li><li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>
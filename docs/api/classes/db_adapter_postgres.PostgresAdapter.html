<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>PostgresAdapter | @coaty/core - v2.4.1</title><meta name="description" content="Documentation for @coaty/core - v2.4.1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@coaty/core - v2.4.1</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../index.html">@coaty/core - v2.4.1</a></li><li><a href="../modules/db_adapter_postgres.html">db/adapter-postgres</a></li><li><a href="db_adapter_postgres.PostgresAdapter.html">PostgresAdapter</a></li></ul><h1>Class PostgresAdapter</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Provides access to a PostgreSQL 9.5 (or later) database server. Supports
connection pooling and query iteration. Supports SQL operations
as well as NoSQL operations using the JSONB data type.</p>
</div><div><p>The Postgres connection string has the following general form:
<code>postgres://&lt;user&gt;:&lt;password&gt;@&lt;hostname&gt;:&lt;port&gt;/&lt;database&gt;?ssl=true&amp;application_name=PGAPPNAME&amp;fallback_application_name=false</code></p>
<p>PostgreSQL supports the following connection options (with the given default values):</p>
<pre><code><span class="hl-0">{</span><br/><span class="hl-0">   </span><span class="hl-9">// database host</span><br/><span class="hl-0">   </span><span class="hl-1">host</span><span class="hl-0">: </span><span class="hl-2">process</span><span class="hl-0">.</span><span class="hl-2">env</span><span class="hl-0">.</span><span class="hl-8">PGHOST</span><span class="hl-0"> || </span><span class="hl-6">&#39;localhost&#39;</span><span class="hl-0">,</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// database user&#39;s name</span><br/><span class="hl-0">   </span><span class="hl-1">user</span><span class="hl-0">: </span><span class="hl-2">process</span><span class="hl-0">.</span><span class="hl-2">env</span><span class="hl-0">.</span><span class="hl-8">PGUSER</span><span class="hl-0"> || </span><span class="hl-2">process</span><span class="hl-0">.</span><span class="hl-2">env</span><span class="hl-0">.</span><span class="hl-8">USER</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// name of database to connect</span><br/><span class="hl-0">   </span><span class="hl-1">database</span><span class="hl-0">: </span><span class="hl-2">process</span><span class="hl-0">.</span><span class="hl-2">env</span><span class="hl-0">.</span><span class="hl-8">PGDATABASE</span><span class="hl-0"> || </span><span class="hl-2">process</span><span class="hl-0">.</span><span class="hl-2">env</span><span class="hl-0">.</span><span class="hl-8">USER</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// database user&#39;s password</span><br/><span class="hl-0">   </span><span class="hl-1">password</span><span class="hl-0">: </span><span class="hl-2">process</span><span class="hl-0">.</span><span class="hl-2">env</span><span class="hl-0">.</span><span class="hl-8">PGPASSWORD</span><span class="hl-0"> || </span><span class="hl-5">null</span><span class="hl-0">,</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// database port</span><br/><span class="hl-0">   </span><span class="hl-1">port</span><span class="hl-0">: </span><span class="hl-2">process</span><span class="hl-0">.</span><span class="hl-2">env</span><span class="hl-0">.</span><span class="hl-8">PGPORT</span><span class="hl-0"> || </span><span class="hl-4">5432</span><span class="hl-0">,</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// number of rows to return at a time from a prepared statement&#39;s</span><br/><span class="hl-0">   </span><span class="hl-9">// portal. 0 will return all rows at once</span><br/><span class="hl-0">   </span><span class="hl-1">rows</span><span class="hl-0">: </span><span class="hl-4">0</span><span class="hl-0">,</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// binary result mode</span><br/><span class="hl-0">   </span><span class="hl-1">binary</span><span class="hl-0">: </span><span class="hl-5">false</span><span class="hl-0">,</span><br/><br/><span class="hl-0">   </span><span class="hl-1">client_encoding</span><span class="hl-0">: </span><span class="hl-6">&quot;&quot;</span><span class="hl-0">,</span><br/><br/><span class="hl-0">   </span><span class="hl-1">ssl</span><span class="hl-0">: </span><span class="hl-5">false</span><span class="hl-0">,</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// TCP keep alive: this should help with backends incorrectly considering </span><br/><span class="hl-0">   </span><span class="hl-9">// idle clients to be dead and prematurely disconnecting them.</span><br/><span class="hl-0">   </span><span class="hl-1">keepAlive</span><span class="hl-0">: </span><span class="hl-5">false</span><span class="hl-0">,</span><br/><br/><span class="hl-0">   </span><span class="hl-1">application_name</span><span class="hl-0">: </span><span class="hl-5">undefined</span><span class="hl-0">,</span><br/><br/><span class="hl-0">   </span><span class="hl-1">fallback_application_name</span><span class="hl-0">: </span><span class="hl-5">undefined</span><span class="hl-0">,</span><br/><br/><span class="hl-0">   </span><span class="hl-1">parseInputDatesAsUTC</span><span class="hl-0">: </span><span class="hl-5">false</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// Pool Options (see also https://github.com/brianc/node-pg-pool and https://github.com/coopernurse/node-pool)</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// maximum number of resources to create at any given time optional (default=1)</span><br/><span class="hl-0">   </span><span class="hl-1">max</span><span class="hl-0">: </span><span class="hl-4">10</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// minimum number of resources to keep in pool at any given time</span><br/><span class="hl-0">   </span><span class="hl-9">// if this is set &gt;= max, the pool will silently set the min</span><br/><span class="hl-0">   </span><span class="hl-9">// to factory.max - 1 (Note: min==max case is expected to change in v3 release)</span><br/><span class="hl-0">   </span><span class="hl-9">// optional (default=0)</span><br/><span class="hl-0">   </span><span class="hl-1">min</span><span class="hl-0">: </span><span class="hl-4">0</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// max milliseconds a resource can go unused before it should be destroyed</span><br/><span class="hl-0">   </span><span class="hl-9">// (default 30000)</span><br/><span class="hl-0">   </span><span class="hl-1">idleTimeoutMillis</span><span class="hl-0">: </span><span class="hl-4">30000</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// return an error after given milliseconds if connection could not be established</span><br/><span class="hl-0">   </span><span class="hl-1">connectionTimeoutMillis</span><span class="hl-0">: </span><span class="hl-4">1000</span><br/><br/><span class="hl-0">   </span><span class="hl-9">// If true, logs pool activities to console; can also be a function.</span><br/><span class="hl-0">   </span><span class="hl-9">// Note: true doesn&#39;t work properly in a Node.js process, use a function instead.</span><br/><span class="hl-0">   </span><span class="hl-1">log</span><span class="hl-0">: </span><span class="hl-5">true</span><span class="hl-0">/</span><span class="hl-5">false</span><span class="hl-0"> </span><span class="hl-2">or</span><span class="hl-0"> </span><span class="hl-5">function</span><span class="hl-0">(</span><span class="hl-2">msg</span><span class="hl-0">: </span><span class="hl-10">string</span><span class="hl-0">, </span><span class="hl-2">level</span><span class="hl-0">: </span><span class="hl-10">string</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> {}</span><br/><br/><span class="hl-0">}</span>
</code></pre>
<p>This adapter supports the following adapter configuration options:</p>
<pre><code><span class="hl-0">{</span><br/><span class="hl-0">   </span><span class="hl-9">// The default chunk size of chunking fetch operations such as findObjects</span><br/><span class="hl-0">   </span><span class="hl-9">// or iquery (default 100). This value can be overridden in individual</span><br/><span class="hl-0">   </span><span class="hl-9">// fetch operations by specifying the DbObjectFilter.fetchSize property.</span><br/><span class="hl-0">   </span><span class="hl-1">defaultFetchSize</span><span class="hl-0">: </span><span class="hl-4">100</span><br/><span class="hl-0">}</span>
</code></pre>
<p>This adapter supports the following extensions for creating/deleting users and databases dynamically:</p>
<pre><code><span class="hl-2">createUser</span><br/><span class="hl-2">deleteUser</span><br/><span class="hl-2">initDatabase</span><br/><span class="hl-2">createDatabase</span><br/><span class="hl-2">deleteDatabase</span>
</code></pre>
<p>Note that these operations must be performed on a database context with administrative privileges, i.e.
the connection info must specify a user/pwd with administration rights.</p>
</div></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><a href="db.DbAdapterBase.html" class="tsd-signature-type" data-tsd-kind="Class">DbAdapterBase</a><ul class="tsd-hierarchy"><li><span class="target">PostgresAdapter</span></li></ul></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section tsd-is-inherited tsd-is-private-protected"><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a href="db_adapter_postgres.PostgresAdapter.html#connectionInfo" class="tsd-kind-icon">connection<wbr/>Info</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#addCollection" class="tsd-kind-icon">add<wbr/>Collection</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#addStore" class="tsd-kind-icon">add<wbr/>Store</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#aggregateObjects" class="tsd-kind-icon">aggregate<wbr/>Objects</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#callExtension" class="tsd-kind-icon">call<wbr/>Extension</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#clearCollection" class="tsd-kind-icon">clear<wbr/>Collection</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#clearValues" class="tsd-kind-icon">clear<wbr/>Values</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#close" class="tsd-kind-icon">close</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#countObjects" class="tsd-kind-icon">count<wbr/>Objects</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="db_adapter_postgres.PostgresAdapter.html#createDatabase" class="tsd-kind-icon">create<wbr/>Database</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="db_adapter_postgres.PostgresAdapter.html#createUser" class="tsd-kind-icon">create<wbr/>User</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="db_adapter_postgres.PostgresAdapter.html#deleteDatabase" class="tsd-kind-icon">delete<wbr/>Database</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#deleteObjects" class="tsd-kind-icon">delete<wbr/>Objects</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#deleteObjectsById" class="tsd-kind-icon">delete<wbr/>Objects<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="db_adapter_postgres.PostgresAdapter.html#deleteUser" class="tsd-kind-icon">delete<wbr/>User</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#deleteValue" class="tsd-kind-icon">delete<wbr/>Value</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#findObjectById" class="tsd-kind-icon">find<wbr/>Object<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#findObjects" class="tsd-kind-icon">find<wbr/>Objects</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#getValue" class="tsd-kind-icon">get<wbr/>Value</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#getValues" class="tsd-kind-icon">get<wbr/>Values</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="db_adapter_postgres.PostgresAdapter.html#initDatabase" class="tsd-kind-icon">init<wbr/>Database</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#insertObjects" class="tsd-kind-icon">insert<wbr/>Objects</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#iquery" class="tsd-kind-icon">iquery</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#query" class="tsd-kind-icon">query</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a href="db_adapter_postgres.PostgresAdapter.html#registerExtension" class="tsd-kind-icon">register<wbr/>Extension</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a href="db_adapter_postgres.PostgresAdapter.html#rejectNotSupported" class="tsd-kind-icon">reject<wbr/>Not<wbr/>Supported</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#removeCollection" class="tsd-kind-icon">remove<wbr/>Collection</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#removeStore" class="tsd-kind-icon">remove<wbr/>Store</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#setValue" class="tsd-kind-icon">set<wbr/>Value</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#transaction" class="tsd-kind-icon">transaction</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#updateObjectProperty" class="tsd-kind-icon">update<wbr/>Object<wbr/>Property</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#updateObjects" class="tsd-kind-icon">update<wbr/>Objects</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a name="constructor" class="tsd-anchor"></a><h3>constructor</h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">new <wbr/>Postgres<wbr/>Adapter<span class="tsd-signature-symbol">(</span>connectionInfo<span class="tsd-signature-symbol">: </span><a href="../interfaces/core.DbConnectionInfo.html" class="tsd-signature-type" data-tsd-kind="Interface">DbConnectionInfo</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="db_adapter_postgres.PostgresAdapter.html" class="tsd-signature-type" data-tsd-kind="Class">PostgresAdapter</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#constructor">constructor</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L137">src/db/adapter-postgres/postgres-adapter.ts:137</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>connectionInfo: <a href="../interfaces/core.DbConnectionInfo.html" class="tsd-signature-type" data-tsd-kind="Interface">DbConnectionInfo</a></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="db_adapter_postgres.PostgresAdapter.html" class="tsd-signature-type" data-tsd-kind="Class">PostgresAdapter</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group tsd-is-inherited tsd-is-private-protected"><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a name="connectionInfo" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagProtected">Protected</span> connection<wbr/>Info</h3><div class="tsd-signature tsd-kind-icon">connection<wbr/>Info<span class="tsd-signature-symbol">:</span> <a href="../interfaces/core.DbConnectionInfo.html" class="tsd-signature-type" data-tsd-kind="Interface">DbConnectionInfo</a></div><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#connectionInfo">connectionInfo</a></p></aside></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="addCollection" class="tsd-anchor"></a><h3>add<wbr/>Collection</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">add<wbr/>Collection<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#addCollection">addCollection</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L149">src/db/adapter-postgres/postgres-adapter.ts:149</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Add a new collection with the given name if it doesn&#39;t exist.</p>
</div><div><p>Returns a promise that is fulfilled if the operation succeeded.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a name="addStore" class="tsd-anchor"></a><h3>add<wbr/>Store</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">add<wbr/>Store<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#addStore">addStore</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/db-adapter.ts#L138">src/db/db-adapter.ts:138</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Add a new store with the given name if it doesn&#39;t exist.</p>
</div><div><p>Returns a promise that is fulfilled if the operation succeeded.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="aggregateObjects" class="tsd-anchor"></a><h3>aggregate<wbr/>Objects</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">aggregate<wbr/>Objects<span class="tsd-signature-symbol">(</span>collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, aggregateProps<span class="tsd-signature-symbol">: </span><a href="../modules/db.html#AggregateProperties" class="tsd-signature-type" data-tsd-kind="Type alias">AggregateProperties</a>, aggregateOp<span class="tsd-signature-symbol">: </span><a href="../enums/db.AggregateOp.html" class="tsd-signature-type" data-tsd-kind="Enumeration">AggregateOp</a>, filter<span class="tsd-signature-symbol">?: </span><a href="../interfaces/db.DbObjectFilter.html" class="tsd-signature-type" data-tsd-kind="Interface">DbObjectFilter</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#aggregateObjects">aggregateObjects</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L339">src/db/adapter-postgres/postgres-adapter.ts:339</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Aggregates values of the given object property in the collection
for objects which match the given filter. Depending on the aggregation
operator specified either numeric or boolean values are yielded. The
value type of the given object property must match the aggregation
operator specified.</p>
</div><div><p>If the filter is empty or not specified all objects are considered for
aggregation. If the filter matches no objects at all the aggregated value
returned is <code>undefined</code>.
Returns a promise that if fulfilled yields the aggregated value of
matching object properties. The promise is rejected if an error occurred.</p>
<p>The object property to be applied for aggregation is specified either
in dot notation or array notation. In dot notation, the name of the
object property is specified as a string (e.g. <code>&quot;volume&quot;</code>). It may
include dots (<code>.</code>) to access nested properties of subobjects (e.g.
<code>&quot;message.size&quot;</code>). If a single property name contains dots itself,
you obviously cannot use dot notation. Instead, specify the property
or nested properties as an array of strings (e.g.
<code>[&quot;property.with.dots&quot;, &quot;subproperty.with.dots&quot;]</code>).</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5></li><li><h5>aggregateProps: <a href="../modules/db.html#AggregateProperties" class="tsd-signature-type" data-tsd-kind="Type alias">AggregateProperties</a></h5></li><li><h5>aggregateOp: <a href="../enums/db.AggregateOp.html" class="tsd-signature-type" data-tsd-kind="Enumeration">AggregateOp</a></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> filter: <a href="../interfaces/db.DbObjectFilter.html" class="tsd-signature-type" data-tsd-kind="Interface">DbObjectFilter</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a name="callExtension" class="tsd-anchor"></a><h3>call<wbr/>Extension</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">call<wbr/>Extension<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, <span class="tsd-signature-symbol">...</span>params<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#callExtension">callExtension</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/db-adapter.ts#L179">src/db/db-adapter.ts:179</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Invoke the extension method by the given name and returns the result
as a promise. Returns a rejected promise if the extension method
doesn&#39;t exist or throws an error.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>name of registered extension method</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>params: <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>parameters to be applied to extension method</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="clearCollection" class="tsd-anchor"></a><h3>clear<wbr/>Collection</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">clear<wbr/>Collection<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#clearCollection">clearCollection</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L196">src/db/adapter-postgres/postgres-adapter.ts:196</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Clear all objects from the collection with the given name.</p>
</div><div><p>Returns a promise that is fulfilled if the operation succeeded.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a name="clearValues" class="tsd-anchor"></a><h3>clear<wbr/>Values</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">clear<wbr/>Values<span class="tsd-signature-symbol">(</span>store<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#clearValues">clearValues</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/db-adapter.ts#L162">src/db/db-adapter.ts:162</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Deletes all key-value pairs in the default store or the
store specified.</p>
</div><div><p>Returns a promise that is fulfilled if the delete operation succeeded.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> store: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a name="close" class="tsd-anchor"></a><h3>close</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">close<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#close">close</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/db-adapter.ts#L166">src/db/db-adapter.ts:166</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Closes the local database.
By closing, any file locks on the database file are removed.
The database is reopened again when operations are invoked after
the database has been closed.</p>
</div><div><p>Returns a promise that is fulfilled if the close operation succeeded.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="countObjects" class="tsd-anchor"></a><h3>count<wbr/>Objects</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">count<wbr/>Objects<span class="tsd-signature-symbol">(</span>collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, filter<span class="tsd-signature-symbol">?: </span><a href="../interfaces/db.DbObjectFilter.html" class="tsd-signature-type" data-tsd-kind="Interface">DbObjectFilter</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#countObjects">countObjects</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L329">src/db/adapter-postgres/postgres-adapter.ts:329</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Counts objects in the collection which match the given filter.
If the filter is empty or not specified counts the total number of
objects in the collection.
Returns a promise that if fulfilled yields the number of matching objects.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> filter: <a href="../interfaces/db.DbObjectFilter.html" class="tsd-signature-type" data-tsd-kind="Interface">DbObjectFilter</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="createDatabase" class="tsd-anchor"></a><h3>create<wbr/>Database</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">create<wbr/>Database<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, comment<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L471">src/db/adapter-postgres/postgres-adapter.ts:471</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Create a new database of the given name if it doesn&#39;t already exist.</p>
</div><div><p>Returns a promise that if fulfilled yields <code>true</code> if the database has
been created, <code>false</code> otherwise. The promise is rejected if an error
occurs. To create a database the specified owner must be a superuser. To
issue this command, the client should connect to the <code>postgres</code> database.</p>
<p>Note that this operation cannot be executed inside a transaction block.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the database to create</p>
</div></div></li><li><h5>owner: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the owner (superuser) of the database, see <code>createUser</code>
extension</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> comment: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>a comment to associate with the created database</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="createUser" class="tsd-anchor"></a><h3>create<wbr/>User</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">create<wbr/>User<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, password<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, comment<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L531">src/db/adapter-postgres/postgres-adapter.ts:531</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Create a user (role) with the given name if it doesn&#39;t already exist.</p>
</div><div><p>Returns a promise that is fullfilled if the user has been created or
already exists. The promise is rejected if an error occurs. You must have
CREATEROLE privilege or be a database superuser to use this command. To
issue this command, the client should connect to the <code>postgres</code> database.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the user to create</p>
</div></div></li><li><h5>password: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the plain or md5 encoded password</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> comment: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>a comment on the user</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="deleteDatabase" class="tsd-anchor"></a><h3>delete<wbr/>Database</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">delete<wbr/>Database<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L512">src/db/adapter-postgres/postgres-adapter.ts:512</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Drops the given database if it exists.</p>
</div><div><p>Returns a promise that is fullfilled if the database has been deleted or
didn&#39;t exist. The promise is rejected if an error occurs. Note that an
error occurs if you try to delete a database that has active client
connections. This command can only be executed by the database owner. To
issue this command, the client should connect to the <code>postgres</code> database.</p>
<p>Note that this operation cannot be executed inside a transaction block.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the database to delete</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="deleteObjects" class="tsd-anchor"></a><h3>delete<wbr/>Objects</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">delete<wbr/>Objects<span class="tsd-signature-symbol">(</span>collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, filter<span class="tsd-signature-symbol">?: </span><a href="../interfaces/db.DbObjectFilter.html" class="tsd-signature-type" data-tsd-kind="Interface">DbObjectFilter</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#deleteObjects">deleteObjects</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L271">src/db/adapter-postgres/postgres-adapter.ts:271</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Deletes objects from the collection which match the given filter.
If the filter is empty or not specified all objects in the collection are deleted.
Returns a promise that if fulfilled yields the number of objects deleted.
The promise is rejected if an error occurred. In this case it is
guaranteed that none of the requested objects has been deleted.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> filter: <a href="../interfaces/db.DbObjectFilter.html" class="tsd-signature-type" data-tsd-kind="Interface">DbObjectFilter</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="deleteObjectsById" class="tsd-anchor"></a><h3>delete<wbr/>Objects<wbr/>By<wbr/>Id</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">delete<wbr/>Objects<wbr/>By<wbr/>Id<span class="tsd-signature-symbol">(</span>collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, objectIds<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#deleteObjectsById">deleteObjectsById</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L263">src/db/adapter-postgres/postgres-adapter.ts:263</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Deletes an object or multiple objects with the given object IDs from the
collection. Objects which are not contained in the collection are
ignored.
Returns a promise that if fulfilled yields an array of object IDs
of deleted objects. The promise is rejected if an error occurred. In
this case it is guaranteed that none of the requested objects has been
deleted.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5></li><li><h5>objectIds: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="deleteUser" class="tsd-anchor"></a><h3>delete<wbr/>User</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">delete<wbr/>User<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L567">src/db/adapter-postgres/postgres-adapter.ts:567</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Drop the given user (role).</p>
</div><div><p>Returns a promise that is fullfilled if the user has been deleted. The
promise is rejected if an error occurs. You must have CREATEROLE
privilege or be a database superuser to use this command. To issue this
command, the client should connect to the <code>postgres</code> database.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the user to remove</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a name="deleteValue" class="tsd-anchor"></a><h3>delete<wbr/>Value</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">delete<wbr/>Value<span class="tsd-signature-symbol">(</span>key<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, store<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#deleteValue">deleteValue</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/db-adapter.ts#L158">src/db/db-adapter.ts:158</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Deletes the key-value pair for the given key in the default store or the
store specified.</p>
</div><div><p>Returns a promise that is fulfilled if the delete operation succeeded.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>key: <span class="tsd-signature-type">string</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> store: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><a name="findObjectById" class="tsd-anchor"></a><h3>find<wbr/>Object<wbr/>By<wbr/>Id</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">find<wbr/>Object<wbr/>By<wbr/>Id&lt;T&gt;<span class="tsd-signature-symbol">(</span>collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, isExternalId<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#findObjectById">findObjectById</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L283">src/db/adapter-postgres/postgres-adapter.ts:283</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Finds the first object with the given object ID or external ID in the collection.
Returns a promise that if fulfilled yields the first found object or <code>undefined</code>
if no object with the given ID is contained in the collection.
The promise is rejected if an error occurred.</p>
</div><div><p>If the <code>isExternalId</code> parameter is not specified, the given id is interpreted as object ID.</p>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T<span class="tsd-signature-symbol">: </span><a href="../interfaces/core.CoatyObject.html" class="tsd-signature-type" data-tsd-kind="Interface">CoatyObject</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5></li><li><h5>id: <span class="tsd-signature-type">string</span></h5></li><li><h5>isExternalId: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = false</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><a name="findObjects" class="tsd-anchor"></a><h3>find<wbr/>Objects</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">find<wbr/>Objects&lt;T&gt;<span class="tsd-signature-symbol">(</span>collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, filter<span class="tsd-signature-symbol">?: </span><a href="../interfaces/db.DbObjectFilter.html" class="tsd-signature-type" data-tsd-kind="Interface">DbObjectFilter</a>, joinConditions<span class="tsd-signature-symbol">?: </span><a href="../interfaces/db.DbJoinCondition.html" class="tsd-signature-type" data-tsd-kind="Interface">DbJoinCondition</a><span class="tsd-signature-symbol"> | </span><a href="../interfaces/db.DbJoinCondition.html" class="tsd-signature-type" data-tsd-kind="Interface">DbJoinCondition</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/db.IQueryIterator.html" class="tsd-signature-type" data-tsd-kind="Interface">IQueryIterator</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#findObjects">findObjects</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L303">src/db/adapter-postgres/postgres-adapter.ts:303</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Finds objects in the collection which match the given object filter.
If the filter is empty or not specified all objects in the collection are retrieved.</p>
</div><div><p>Optional join conditions can be specified to augment result objects
by resolving object references to related objects and storing
them as extra properties.</p>
<p>The result can be iterated one by one or in batches to avoid
memory overrun when the result contains a large number of objects.</p>
<p>Returns a promise that if fulfilled yields an iterator for iterating
the resulting objects. The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T<span class="tsd-signature-symbol">: </span><a href="../interfaces/core.CoatyObject.html" class="tsd-signature-type" data-tsd-kind="Interface">CoatyObject</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> filter: <a href="../interfaces/db.DbObjectFilter.html" class="tsd-signature-type" data-tsd-kind="Interface">DbObjectFilter</a></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> joinConditions: <a href="../interfaces/db.DbJoinCondition.html" class="tsd-signature-type" data-tsd-kind="Interface">DbJoinCondition</a><span class="tsd-signature-symbol"> | </span><a href="../interfaces/db.DbJoinCondition.html" class="tsd-signature-type" data-tsd-kind="Interface">DbJoinCondition</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/db.IQueryIterator.html" class="tsd-signature-type" data-tsd-kind="Interface">IQueryIterator</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a name="getValue" class="tsd-anchor"></a><h3>get<wbr/>Value</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">get<wbr/>Value<span class="tsd-signature-symbol">(</span>key<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, store<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#getValue">getValue</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/db-adapter.ts#L146">src/db/db-adapter.ts:146</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Gets the value for the given key in the default store or the
store specified.</p>
</div><div><p>Returns a promise that if fulfilled yields the value for the key.
If the given key doesn&#39;t exist, the promise yields <code>undefined</code>.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>key: <span class="tsd-signature-type">string</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> store: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a name="getValues" class="tsd-anchor"></a><h3>get<wbr/>Values</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">get<wbr/>Values<span class="tsd-signature-symbol">(</span>store<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#getValues">getValues</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/db-adapter.ts#L150">src/db/db-adapter.ts:150</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Gets an object with all key-value pairs in the default store or the
store specified.</p>
</div><div><p>Returns a promise that if fulfilled yields an object of key-value pairs.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> store: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a name="initDatabase" class="tsd-anchor"></a><h3>init<wbr/>Database</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">init<wbr/>Database<span class="tsd-signature-symbol">(</span>dbInfo<span class="tsd-signature-symbol">: </span><a href="../interfaces/core.DbConnectionInfo.html" class="tsd-signature-type" data-tsd-kind="Interface">DbConnectionInfo</a>, collections<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span>, clearCollections<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L442">src/db/adapter-postgres/postgres-adapter.ts:442</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Initialize a database from the given connection info. The database and
database user is created if it not yet exists. Then, collections are
added if needed from the given collection names. Optionally, the
collections can be cleared initially. This can be useful in test
scenarios where collection data from a previous run should be removed.</p>
</div><div><p>Returns a promise that is resolved if the database and collections have
been created successfully, and rejected if an error occurs.</p>
<p>Note that the database context on which this extension method is invoked
must connect to the <code>postgres</code> database with superuser admin permissions.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>dbInfo: <a href="../interfaces/core.DbConnectionInfo.html" class="tsd-signature-type" data-tsd-kind="Interface">DbConnectionInfo</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>connection info for database operations</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> collections: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>an array of database collection names</p>
</div></div></li><li><h5>clearCollections: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = false</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>determines whether collection data should be
cleared initially</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="insertObjects" class="tsd-anchor"></a><h3>insert<wbr/>Objects</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">insert<wbr/>Objects<span class="tsd-signature-symbol">(</span>collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, objects<span class="tsd-signature-symbol">: </span><a href="../interfaces/core.CoatyObject.html" class="tsd-signature-type" data-tsd-kind="Interface">CoatyObject</a><span class="tsd-signature-symbol"> | </span><a href="../interfaces/core.CoatyObject.html" class="tsd-signature-type" data-tsd-kind="Interface">CoatyObject</a><span class="tsd-signature-symbol">[]</span>, shouldReplaceExisting<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#insertObjects">insertObjects</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L203">src/db/adapter-postgres/postgres-adapter.ts:203</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Inserts a single object or multiple objects into the specified
collection. If an object with the same object ID is already contained
in the collection, the object to be inserted can be skipped
or can replace the existing one, depending on the <code>shouldReplaceExisting</code>
option (defaults to true).</p>
</div><div><p>If no error occurs a fullfilled promise is returned that yields an array
of object IDs of inserted or replaced objects. Otherwise, a rejected
promise is returned. In this case, it is guaranteed that none of the
specified objects has been inserted into the collection.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5></li><li><h5>objects: <a href="../interfaces/core.CoatyObject.html" class="tsd-signature-type" data-tsd-kind="Interface">CoatyObject</a><span class="tsd-signature-symbol"> | </span><a href="../interfaces/core.CoatyObject.html" class="tsd-signature-type" data-tsd-kind="Interface">CoatyObject</a><span class="tsd-signature-symbol">[]</span></h5></li><li><h5>shouldReplaceExisting: <span class="tsd-signature-type">boolean</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="iquery" class="tsd-anchor"></a><h3>iquery</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">iquery<span class="tsd-signature-symbol">(</span>sql<span class="tsd-signature-symbol">: </span><a href="../modules/db.html#SqlQueryBuilder" class="tsd-signature-type" data-tsd-kind="Type alias">SqlQueryBuilder</a>, queryOptions<span class="tsd-signature-symbol">?: </span><a href="../interfaces/db.SqlQueryOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">SqlQueryOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/db.IQueryIterator.html" class="tsd-signature-type" data-tsd-kind="Interface">IQueryIterator</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#iquery">iquery</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L366">src/db/adapter-postgres/postgres-adapter.ts:366</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Execute an SQL query defined by the given query builder and
retrieve the results iteratively.</p>
</div><div><p>Use the predefined query builder functions SQL or RAW to formulate
your parameterized SQL query.</p>
<p>The result can be iterated one by one or in batches to avoid
memory overrun when the result contains a large number of rows.
Usually, this is implemented by using a cursor. The fetch size of the
cursor can be adjusted in the specified query options.</p>
<p>Returns a promise that if fulfilled yields an iterator for iterating
the resulting row data. The promise is rejected if an error occurs.</p>
<p>If you know that a query only returns a very limited number of rows,
it might be more convenient to use the <code>query</code> operation to retrieve all
rows at once.</p>
<p>Note that the <code>iquery</code> operation might not be supported by a
specific database adapter. In this case, the returned promise
yields an &quot;operation not supported&quot; error.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>sql: <a href="../modules/db.html#SqlQueryBuilder" class="tsd-signature-type" data-tsd-kind="Type alias">SqlQueryBuilder</a></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> queryOptions: <a href="../interfaces/db.SqlQueryOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">SqlQueryOptions</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/db.IQueryIterator.html" class="tsd-signature-type" data-tsd-kind="Interface">IQueryIterator</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="query" class="tsd-anchor"></a><h3>query</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">query<span class="tsd-signature-symbol">(</span>sql<span class="tsd-signature-symbol">: </span><a href="../modules/db.html#SqlQueryBuilder" class="tsd-signature-type" data-tsd-kind="Type alias">SqlQueryBuilder</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/db.SqlQueryResultSet.html" class="tsd-signature-type" data-tsd-kind="Interface">SqlQueryResultSet</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#query">query</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L361">src/db/adapter-postgres/postgres-adapter.ts:361</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Execute an SQL query defined by the given query builder and
retrieve the results as one set of row data.</p>
</div><div><p>Use the predefined query builder functions SQL or RAW to formulate
your parameterized SQL query.</p>
<p>Returns a promise that if fulfilled yields all the query results as
one set of row data. The promise is rejected if the query yields an
error.</p>
<p>Note that the query first retrieves all result rows and stores them in
memory. For queries that have potentially large result sets,
consider to use the <code>iquery</code> operation instead of this one.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>sql: <a href="../modules/db.html#SqlQueryBuilder" class="tsd-signature-type" data-tsd-kind="Type alias">SqlQueryBuilder</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/db.SqlQueryResultSet.html" class="tsd-signature-type" data-tsd-kind="Interface">SqlQueryResultSet</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a name="registerExtension" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagProtected">Protected</span> register<wbr/>Extension</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><li class="tsd-signature tsd-kind-icon">register<wbr/>Extension<span class="tsd-signature-symbol">(</span>extensionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#registerExtension">registerExtension</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/db-adapter.ts#L193">src/db/db-adapter.ts:193</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Register an extension method of the given name.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>extensionName: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a name="rejectNotSupported" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagProtected">Protected</span> reject<wbr/>Not<wbr/>Supported</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><li class="tsd-signature tsd-kind-icon">reject<wbr/>Not<wbr/>Supported<span class="tsd-signature-symbol">(</span>operationName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#rejectNotSupported">rejectNotSupported</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/db-adapter.ts#L197">src/db/db-adapter.ts:197</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>operationName: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="removeCollection" class="tsd-anchor"></a><h3>remove<wbr/>Collection</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">remove<wbr/>Collection<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#removeCollection">removeCollection</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L189">src/db/adapter-postgres/postgres-adapter.ts:189</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Remove the collection with the given name if it exists.</p>
</div><div><p>Returns a promise that is fulfilled if the operation succeeded.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a name="removeStore" class="tsd-anchor"></a><h3>remove<wbr/>Store</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">remove<wbr/>Store<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#removeStore">removeStore</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/db-adapter.ts#L142">src/db/db-adapter.ts:142</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Remove a store with the given name if it exists.</p>
</div><div><p>Returns a promise that is fulfilled if the operation succeeded.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a name="setValue" class="tsd-anchor"></a><h3>set<wbr/>Value</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">set<wbr/>Value<span class="tsd-signature-symbol">(</span>key<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span>, store<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#setValue">setValue</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/db-adapter.ts#L154">src/db/db-adapter.ts:154</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Sets the value for the given key in the default store or the
store specified.</p>
</div><div><p>You can pass in any JavaScript object that can be represented in JSON
format.</p>
<p>Returns a promise that is fulfilled if the set operation succeeded.
The promise is rejected if an error occurred.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>key: <span class="tsd-signature-type">string</span></h5></li><li><h5>value: <span class="tsd-signature-type">any</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> store: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><a name="transaction" class="tsd-anchor"></a><h3>transaction</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">transaction&lt;T&gt;<span class="tsd-signature-symbol">(</span>action<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>transactionContext<span class="tsd-signature-symbol">: </span><a href="db.DbContext.html" class="tsd-signature-type" data-tsd-kind="Class">DbContext</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#transaction">transaction</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L379">src/db/adapter-postgres/postgres-adapter.ts:379</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Execute async operations in the given action callback inside a
database transaction block. The action callback must return a promise
that is fulfilled if all operations have executed without errors,
and that is rejected if any of the operations fail.
All transactional operations must be invoked on the transaction context
passed in the action callback.</p>
</div><div><p>Returns a promise that if fulfilled signals that the transaction has
been committed. In this case, the promise resolves to the value of
the resolved action callback. The promise is rejected if the transaction
is rolled back because the action callback&#39;s returned promise
has been rejected.</p>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T</h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>action: <span class="tsd-signature-symbol">(</span>transactionContext<span class="tsd-signature-symbol">: </span><a href="db.DbContext.html" class="tsd-signature-type" data-tsd-kind="Class">DbContext</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>transactionContext<span class="tsd-signature-symbol">: </span><a href="db.DbContext.html" class="tsd-signature-type" data-tsd-kind="Class">DbContext</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>transactionContext: <a href="db.DbContext.html" class="tsd-signature-type" data-tsd-kind="Class">DbContext</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="updateObjectProperty" class="tsd-anchor"></a><h3>update<wbr/>Object<wbr/>Property</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">update<wbr/>Object<wbr/>Property<span class="tsd-signature-symbol">(</span>collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, objectIds<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span>, property<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span>, shouldCreateMissing<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#updateObjectProperty">updateObjectProperty</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L227">src/db/adapter-postgres/postgres-adapter.ts:227</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Updates or deletes the property value of a single object or multiple objects
with the given object IDs in the specified collection.
Objects which are not contained in the collection are ignored.
The <code>shouldCreateMissing</code> parameter controls whether the property value
pair is added to an object if the property does not exist (defaults to
true). Specify an <code>undefined</code> value to delete the property value pair
from the object(s).</p>
</div><div><p>Returns a promise that is resolved if the update is successful.
The promise is rejected if an error occurred. In
this case it is guaranteed that none of the objects has been updated.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5></li><li><h5>objectIds: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h5></li><li><h5>property: <span class="tsd-signature-type">string</span></h5></li><li><h5>value: <span class="tsd-signature-type">any</span></h5></li><li><h5>shouldCreateMissing: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = true</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a name="updateObjects" class="tsd-anchor"></a><h3>update<wbr/>Objects</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">update<wbr/>Objects<span class="tsd-signature-symbol">(</span>collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, objects<span class="tsd-signature-symbol">: </span><a href="../interfaces/core.CoatyObject.html" class="tsd-signature-type" data-tsd-kind="Interface">CoatyObject</a><span class="tsd-signature-symbol"> | </span><a href="../interfaces/core.CoatyObject.html" class="tsd-signature-type" data-tsd-kind="Interface">CoatyObject</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="db.DbAdapterBase.html">DbAdapterBase</a>.<a href="db.DbAdapterBase.html#updateObjects">updateObjects</a></p><ul><li>Defined in <a href="https://github.com/coatyio/coaty-js/blob/32ff5a8/src/db/adapter-postgres/postgres-adapter.ts#L217">src/db/adapter-postgres/postgres-adapter.ts:217</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Updates a single object or multiple objects on the specified
collection. If an object with the same object ID is not contained in the
collection, this object is ignored.</p>
</div><div><p>Returns a promise that if fulfilled yields an array of object IDs
of updated objects. The promise is rejected if an error occurred. In
this case it is guaranteed that none of the objects has been updated.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5></li><li><h5>objects: <a href="../interfaces/core.CoatyObject.html" class="tsd-signature-type" data-tsd-kind="Interface">CoatyObject</a><span class="tsd-signature-symbol"> | </span><a href="../interfaces/core.CoatyObject.html" class="tsd-signature-type" data-tsd-kind="Interface">CoatyObject</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../index.html">Modules</a></li><li class=" tsd-kind-module"><a href="../modules/core.html">core</a></li><li class=" tsd-kind-module"><a href="../modules/db.html">db</a></li><li class=" tsd-kind-module"><a href="../modules/db_adapter_in_memory.html">db/adapter-<wbr/>in-<wbr/>memory</a></li><li class="current tsd-kind-module"><a href="../modules/db_adapter_postgres.html">db/adapter-<wbr/>postgres</a></li><li class=" tsd-kind-module"><a href="../modules/db_adapter_sqlite_base.html">db/adapter-<wbr/>sqlite-<wbr/>base</a></li><li class=" tsd-kind-module"><a href="../modules/db_adapter_sqlite_cordova.html">db/adapter-<wbr/>sqlite-<wbr/>cordova</a></li><li class=" tsd-kind-module"><a href="../modules/db_adapter_sqlite_node.html">db/adapter-<wbr/>sqlite-<wbr/>node</a></li><li class=" tsd-kind-module"><a href="../modules/io_routing.html">io-<wbr/>routing</a></li><li class=" tsd-kind-module"><a href="../modules/runtime_angular.html">runtime-<wbr/>angular</a></li><li class=" tsd-kind-module"><a href="../modules/runtime_node.html">runtime-<wbr/>node</a></li><li class=" tsd-kind-module"><a href="../modules/sensor_things.html">sensor-<wbr/>things</a></li><li class=" tsd-kind-module"><a href="../modules/sensor_things_io.html">sensor-<wbr/>things/io</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-parent-kind-module"><a href="db_adapter_postgres.PostgresAdapter.html" class="tsd-kind-icon">Postgres<wbr/>Adapter</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a href="db_adapter_postgres.PostgresAdapter.html#connectionInfo" class="tsd-kind-icon">connection<wbr/>Info</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#addCollection" class="tsd-kind-icon">add<wbr/>Collection</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#addStore" class="tsd-kind-icon">add<wbr/>Store</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#aggregateObjects" class="tsd-kind-icon">aggregate<wbr/>Objects</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#callExtension" class="tsd-kind-icon">call<wbr/>Extension</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#clearCollection" class="tsd-kind-icon">clear<wbr/>Collection</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#clearValues" class="tsd-kind-icon">clear<wbr/>Values</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#close" class="tsd-kind-icon">close</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#countObjects" class="tsd-kind-icon">count<wbr/>Objects</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="db_adapter_postgres.PostgresAdapter.html#createDatabase" class="tsd-kind-icon">create<wbr/>Database</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="db_adapter_postgres.PostgresAdapter.html#createUser" class="tsd-kind-icon">create<wbr/>User</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="db_adapter_postgres.PostgresAdapter.html#deleteDatabase" class="tsd-kind-icon">delete<wbr/>Database</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#deleteObjects" class="tsd-kind-icon">delete<wbr/>Objects</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#deleteObjectsById" class="tsd-kind-icon">delete<wbr/>Objects<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="db_adapter_postgres.PostgresAdapter.html#deleteUser" class="tsd-kind-icon">delete<wbr/>User</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#deleteValue" class="tsd-kind-icon">delete<wbr/>Value</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#findObjectById" class="tsd-kind-icon">find<wbr/>Object<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#findObjects" class="tsd-kind-icon">find<wbr/>Objects</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#getValue" class="tsd-kind-icon">get<wbr/>Value</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#getValues" class="tsd-kind-icon">get<wbr/>Values</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="db_adapter_postgres.PostgresAdapter.html#initDatabase" class="tsd-kind-icon">init<wbr/>Database</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#insertObjects" class="tsd-kind-icon">insert<wbr/>Objects</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#iquery" class="tsd-kind-icon">iquery</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#query" class="tsd-kind-icon">query</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a href="db_adapter_postgres.PostgresAdapter.html#registerExtension" class="tsd-kind-icon">register<wbr/>Extension</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a href="db_adapter_postgres.PostgresAdapter.html#rejectNotSupported" class="tsd-kind-icon">reject<wbr/>Not<wbr/>Supported</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#removeCollection" class="tsd-kind-icon">remove<wbr/>Collection</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#removeStore" class="tsd-kind-icon">remove<wbr/>Store</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="db_adapter_postgres.PostgresAdapter.html#setValue" class="tsd-kind-icon">set<wbr/>Value</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#transaction" class="tsd-kind-icon">transaction</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#updateObjectProperty" class="tsd-kind-icon">update<wbr/>Object<wbr/>Property</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="db_adapter_postgres.PostgresAdapter.html#updateObjects" class="tsd-kind-icon">update<wbr/>Objects</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li><li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>